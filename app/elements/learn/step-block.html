<!--

`step-block` is a container that shows one of several steps in a typical lesson. It generally 
can contain any HTML. Each `step-block` should have a `title` attribute. Step blocks also 
have step numbers which are computed based on the number of `step-block` elements with the same parent before the current. This seems better than building upon an `ol` because it will support other components like `lesson-block` mixed among steps.

Example:

    <lesson-block>
      ... content ...
    </lesson-block>

@group Learn Elements
@class lesson-block
-->
<dom-module id="step-block">
  <style>
  ::content { clear: both; }

  h2 {
    color: #338D83;
    font-family: Roboto;
    font-weight: bold;

  }

  paper-material {
    padding: 10px;
    width: 50%;
    margin: 0 auto;
  }

  step-number {
    color: #ffffff;
    background-color: #80CBC4;
    padding: 50px;
    border-radius: 50%;
    font-family: Roboto;
    font-weight: 500;
  }

  </style>
  <template>
  <step-number>{{ stepnum }}</step-number>
  <paper-material elevation="1" class="paper-font-body2">
    <h2>{{ title }}</h2>
      <content></content>
  </paper-material>
  </template>
</dom-module>
<script>
  Polymer({
    is: 'step-block',

    attached: function() {
      this.async(function() {
        var steps = 0;
        var kids = this.parentNode.children;
        for (var i = 0; i < kids.length; i++) {
          if (kids[i].nodeName == this.nodeName) {
            steps += 1;
            if (kids[i] === this) {
              this.stepnum = steps;
              break;
            }            
          }
        };

        console.log('attached',this);
        window.stash = this;
      })
    },

    properties: {
        /**
         * The primary label for this step.
         *
         * @attribute title
         * @type String
         * @default ""
         */
        title: {
            type: String,
            value: ""
        },

        /**
         * The position of this step among all steps. Not meant to be set by users,
         * at the moment it gets set at page load time by analyzing all other steps
         * with the same parent.
         *
         * @attribute title
         * @type String
         * @default ""
         */
        stepnum: {
            type: Number,
            value: 0
        }

    }
  });
</script>
